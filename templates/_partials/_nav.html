{% load static %}
{% load nav %}

<!-- Header Section -->
<header id="header-sticky" class="header-1">
    <div class="container">
        <div class="mega-menu-wrapper">
            <div class="header-main">
                <!-- Logo -->
                <div class="logo">
                    <a href="{% url 'home' %}" class="header-logo">
                        <img src="{% static 'img/logo/white-logo.svg' %}" alt="Far Out Corporation" style="height: 50px;">
                    </a>
                </div>

                <!-- Navigation Menu -->
                <div class="mean__menu-wrapper">
                    <div class="main-menu">
                        <nav id="mobile-menu" role="navigation" aria-label="Main navigation">
                            <ul role="menubar">
                                <li class="{% active 'home' %}">
                                    <a href="{% url 'home' %}">Home</a>
                                </li>

                                <li class="{% active_parent 'starships:ship_list' 'starships:ship_detail' %}">
                                    <a href="{% url 'starships:ship_list' %}">Ships</a>
                                </li>

                                <li class="has-dropdown {% active_parent 'about' 'organization:member_list' 'organization:member_detail' %}">
                                    <a href="#">
                                        Organization
                                        <i class="fa-solid fa-chevron-down"></i>
                                    </a>
                                    <ul class="submenu">
                                        <li class="{% active 'about' %}">
                                            <a href="{% url 'about' %}">About Us</a>
                                        </li>
                                        <li class="{% active_parent 'organization:member_list' 'organization:member_detail' %}">
                                            <a href="{% url 'organization:member_list' %}">Members</a>
                                        </li>
                                    </ul>
                                </li>

                                <li class="{% active 'contact' %}">
                                    <a href="{% url 'contact' %}">Contact</a>
                                </li>

                                {% if user.is_authenticated %}
                                    <li class="has-dropdown {% active 'dashboard' %}">
                                        <a href="#">
                                            {{ user.username }}
                                            <i class="fa-solid fa-chevron-down"></i>
                                        </a>
                                        <ul class="submenu">
                                            <li class="{% active 'dashboard' %}">
                                                <a href="{% url 'dashboard' %}">Dashboard</a>
                                            </li>
                                            {% if user.is_staff %}
                                                <li>
                                                    <a href="{% url 'admin:index' %}">Admin</a>
                                                </li>
                                            {% endif %}
                                            <li>
                                                <a href="{% url 'account_logout' %}">Logout</a>
                                            </li>
                                        </ul>
                                    </li>
                                {% endif %}
                            </ul>
                        </nav>
                    </div>
                </div>

                <!-- Header Right Actions -->
                <div class="header-right d-flex justify-content-end align-items-center">
                    {% if not user.is_authenticated %}
                        <a href="{% url 'account_login' %}" class="theme-btn">
                            <i class="fab fa-discord"></i> Login with Discord
                        </a>
                    {% endif %}

                    <div class="header__hamburger d-xl-none my-auto">
                        <button class="sidebar__toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="mobile-menu">
                            <i class="fas fa-bars" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
